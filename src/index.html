<!doctype html>
<html>
  <head>
    <title>Beyond Homelessness: How to help guide</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="__sync_contentCategory" content="meterA">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.1.0/css/responsive.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="style.css">

    <!-- scripts for stand-alone projects, comment for embedded projects -->
    <%= !json.project.embedded ? t.include("partials/_paywall.html") : t.include("partials/_embedframe.html") %>
    <!-- also replace <body> with <body is="responsive-body"> -->

    <%= t.include("partials/_head.html") %>
    <script src="http://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.1.0/js/dataTables.responsive.min.js"></script>

  </head>

  <%= !json.project.embedded ? "<body>" : "<body is='reponsive-body'>" %>

    <%= t.include("partials/_nav.html") %>


    <div class="container">
      <div class="headline">
        <p class="brand">Beyond Homelessness</p>
        <h1>How to Help Guide</h1>
        <p class="deck">The Bay Area is home to hundreds of nonprofit organizations dedicated to helping marginally housed people, those who are currently homeless and people who are at risk of losing their housing. All nonprofits seek donations, but here are a few that also accept volunteers or donated items. To add your nonprofit to the list, email <a href="mailto:volunteerbayarea@gmail.com?subject=Beyond Homelessness: How to help guide">volunteerbayarea@gmail.com</a>.</p>
      </div>
      <div id="btn-group">
        <button id="btn-volunteer" class="btn disabled">VOLUNTEER</button>
        <button id="btn-donate" class="btn">DONATE</button>
        
      </div>
      <!-- <hr> -->

      <div id="donate-table" class="table-wrapper">
        <div id="btn-sort">
          <span>Sort by region:</span><br>
          <button class="small-btn" id="SF">SF</button>
          <button class="small-btn" id="EB">East Bay</button>
          <button class="small-btn" id="NB">North Bay</button>
          <button class="small-btn" id="SB">South Bay</button>
          <button class="small-btn disabled" id="all">Show all</button>
        </div>
        <table id="donate" class="display responsive" cellspacing="0" width="100%">
          <thead>
            <tr>
              <th class="desktop-all">
              <th class="desktop-all">About:  
              <th class="desktop-all">Website: 
              <th class="desktop-all">Email: 
              <th class="desktop-all">Address: 
              <th class="desktop-all">Phone: 
              <th class="desktop-all">Items Needed: 
              <th class="desktop-all"> 

          <tbody>
            <% json.donate.forEach(function(org) { %>
            <tr class="row <%= org.location %>">
              <td><%= org.organization %>
              <td><%= org.description %>
              <td><a href="<%= org.website %>" target="_blank"><%= org.website %></a>
              <td><a href="mailto:<%= org.email %>"><%= org.email %></a>
              <td><%= org.address %>
              <td><a href="tel:<%= org.phone %>"><%= org.phone %></a>
              <td><%= org.items_needed %>
              <td><%= org.location %>

            <% }); %>
          </tbody>
        </table>
      </div>

      <div id="volunteer-table" class="table-wrapper">
      <div id="btn-sort">
          <span>Sort by region:</span><br>
          <button class="small-btn" id="sf-v">SF</button>
          <button class="small-btn" id="eb-v">East Bay</button>
          <button class="small-btn" id="nb-v">North Bay</button>
          <button class="small-btn" id="sb-v">South Bay</button>
          <button class="small-btn disabled" id="all-v">Show all</button>
        </div>
        <table id="volunteer" class="display responsive" cellspacing="0" width="100%">
          <thead>
            <tr>
              <th class="desktop-all">
              <th class="desktop-all">About:  
              <th class="desktop-all">Website: 
              <th class="desktop-all">Volunteer: 
              <th class="desktop-all">Adress: 
              <th class="desktop-all">Email: 
              <th class="desktop-all">Phone: 
              <th class="desktop-all">
          <tbody>
            <% json.volunteer.forEach(function(org) { %>
            <tr class="row <%= org.location %>">
              <td><%= org.organization %>
              <td><%= org.description %>
              <td><a href="<%= org.website %>" target="_blank"><%= org.website %></a>
              <td><%= org.volunteer %>
              <td><%= org.address %>
              <td><a href="mailto:<%= org.email %>"><%= org.email %></a>
              <td><a href="tel:<%= org.phone %>"><%= org.phone %></a>
              <td><%= org.location %>
            <% }); %>
          </tbody>
        </table>
      </div>

    </div> <!-- End .container -->

    <%= t.include("partials/_footer.html") %>

    <script src="app.js" async></script>

    <script>
      var table = $('#donate').DataTable({
        columnDefs: [
            {
                "targets": [ 7 ],
                "visible": false
            }
        ],
        ordering:false,
        scrollY: "450px",
         responsive: {
            details: {
                display: $.fn.dataTable.Responsive.display.childRowImmediate,
                type: ''
            }
        }
      });

      var tabletwo = $('#volunteer').DataTable({
        columnDefs: [
            {
                "targets": [ 7 ],
                "visible": false
            }
        ],
        ordering:false,
        scrollY: "450px",
         responsive: {
            details: {
                display: $.fn.dataTable.Responsive.display.childRowImmediate,
                type: ''
            }
        }
      });


      $('#btn-donate').on('click', function () {
        $('#btn-volunteer').removeClass('disabled');
        $('#btn-donate').addClass('disabled');
        $('#donate-table').show();
        $('#volunteer-table').hide();
      });

      $('#btn-volunteer').on('click', function () {
        $('#btn-donate').removeClass('disabled');
        $('#btn-volunteer').addClass('disabled');
        $('#donate-table').hide();
        $('#volunteer-table').show();
      });

      $("#SF").click(function() {
        $.fn.dataTable.ext.search.push(
          function( settings, data, dataIndex ) {
            return (data[7] == 'SF')
              ? true
              : false
          }     
        );
        table.draw();
        $.fn.dataTable.ext.search.pop();
      });

      $("#sf-v").click(function() {
        $.fn.dataTable.ext.search.push(
          function( settings, data, dataIndex ) {
            return (data[7] == 'SF')
              ? true
              : false
          }     
        );
        tabletwo.draw();
        $.fn.dataTable.ext.search.pop();
      });

      $("#EB").click(function() {
        $.fn.dataTable.ext.search.push(
          function( settings, data, dataIndex ) {
            return (data[7] == 'EB')
              ? true
              : false
          }     
        );
        table.draw();
        $.fn.dataTable.ext.search.pop();
      });

      $("#eb-v").click(function() {
        $.fn.dataTable.ext.search.push(
          function( settings, data, dataIndex ) {
            return (data[7] == 'EB')
              ? true
              : false
          }     
        );
        tabletwo.draw();
        $.fn.dataTable.ext.search.pop();
      });

      $("#SB").click(function() {
        $.fn.dataTable.ext.search.push(
          function( settings, data, dataIndex ) {
            return (data[7] == 'SB')
              ? true
              : false
          }     
        );
        table.draw();
        $.fn.dataTable.ext.search.pop();
      });

      $("#sb-v").click(function() {
        $.fn.dataTable.ext.search.push(
          function( settings, data, dataIndex ) {
            return (data[7] == 'SB')
              ? true
              : false
          }     
        );
        tabletwo.draw();
        $.fn.dataTable.ext.search.pop();
      });

      $("#NB").click(function() {
        $.fn.dataTable.ext.search.push(
          function( settings, data, dataIndex ) {
            return (data[7] == 'NB')
              ? true
              : false
          }     
        );
        table.draw();
        $.fn.dataTable.ext.search.pop();
      });

      $("#nb-v").click(function() {
        $.fn.dataTable.ext.search.push(
          function( settings, data, dataIndex ) {
            return (data[7] == 'NB')
              ? true
              : false
          }     
        );
        tabletwo.draw();
        $.fn.dataTable.ext.search.pop();
      });

    $("#all").click(function() {
         table.draw();
    });
    $("#all-v").click(function() {
         tabletwo.draw();
    });

    $('.small-btn').click(function() {
      $(".small-btn.disabled").removeClass("disabled");
      $(this).addClass('disabled');
    });

    $('.btn').click(function() {
       $('html, body').animate({
              scrollTop: $('#btn-volunteer').offset().top - 55
          }, 100);
    });


    </script>


  </body>
</html>
